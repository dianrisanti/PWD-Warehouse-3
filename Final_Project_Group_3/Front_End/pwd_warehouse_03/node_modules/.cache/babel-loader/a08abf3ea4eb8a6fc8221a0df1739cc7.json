{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\knigh\\\\Documents\\\\PURWADHIKA JCWM\\\\final_project\\\\PWD-Warehouse-3\\\\Final_Project_Group_3\\\\Front_End\\\\pwd_warehouse_03\\\\src\\\\pages\\\\history.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Accordion, Card, Table, Image, Button } from 'react-bootstrap';\nimport { CancelOrder, paymentConf } from '../actions';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HistoryPage = () => {\n  _s();\n\n  const [data, setData] = React.useState([]);\n  const {\n    id\n  } = useSelector(state => {\n    return {\n      id: state.user.id_user\n    };\n  });\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    Axios.get(`http://localhost:2000/cart/history/${parseInt(id)}`).then(res => setData(res.data)).catch(err => console.log(err));\n  }, [id]);\n\n  function handlePaymentCon(e) {\n    console.log(e);\n    dispatch(paymentConf(e));\n  }\n\n  const cancelOrder = () => {\n    const num = data[0].order_number;\n    const input = {\n      order_number: num\n    };\n    dispatch(CancelOrder(input, id));\n    console.log(input);\n  };\n\n  console.log(data);\n\n  const renderTbody = () => {\n    return /*#__PURE__*/_jsxDEV(Accordion, {\n      children: data.map((item, index) => {\n        return /*#__PURE__*/_jsxDEV(Card, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Header, {\n            children: /*#__PURE__*/_jsxDEV(Accordion.Toggle, {\n              as: Card.Header,\n              variant: \"link\",\n              eventKey: index + 1,\n              style: {\n                backgroundColor: \"#cbc0d3\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  display: \"flex\",\n                  justifyContent: \"space-between\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: index + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 54,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    onClick: e => {\n                      handlePaymentCon(e);\n                    },\n                    children: [\"Invoice: \", item.order_number]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 55,\n                    columnNumber: 47\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 55,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Date: \", item.date]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 56,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Payment Method: \", item.payment_method]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 57,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Status: \", item.status]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 58,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Press for Detail \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-caret-square-down\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 59,\n                    columnNumber: 64\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 41\n                }, this), item.payment_confirmation === 1 ? /*#__PURE__*/_jsxDEV(\"i\", {\n                  style: {\n                    color: \"blue\"\n                  },\n                  children: \"Waiting for approval payment confirmation\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 45\n                }, this) : /*#__PURE__*/_jsxDEV(Button, {\n                  as: Link,\n                  to: \"/upload_payment\",\n                  style: {\n                    marginRight: '5px'\n                  },\n                  onClick: () => handlePaymentCon(item.order_number),\n                  children: \" Confirm Payment \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 53,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(Accordion.Collapse, {\n            eventKey: index + 1,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(Table, {\n                striped: true,\n                bordered: true,\n                hover: true,\n                children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                  children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"No\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 74,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 75,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Image\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 76,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Quantity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 77,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Price\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 78,\n                      columnNumber: 49\n                    }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                      children: \"Total\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 79,\n                      columnNumber: 49\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 73,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                  children: item.products.map((item2, index2) => {\n                    return /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                        children: index2 + 1\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 86,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item2.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 87,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: /*#__PURE__*/_jsxDEV(Image, {\n                          src: item2.image,\n                          style: {\n                            height: 100,\n                            width: 100\n                          },\n                          rounded: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 89,\n                          columnNumber: 61\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 88,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: item2.quantity\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 91,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [\"IDR \", item2.price.toLocaleString()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 92,\n                        columnNumber: 57\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        children: [\"IDR \", item2.total.toLocaleString()]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 93,\n                        columnNumber: 57\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 85,\n                      columnNumber: 53\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  justifyContent: 'flex-end',\n                  margin\n                },\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"danger\",\n                  children: \"Cancel Order\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 41\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 29\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"150px\",\n      padding: \"0 20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Order History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      style: {\n        textAlign: \"center\"\n      },\n      children: renderTbody()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 9\n  }, this);\n};\n\n_s(HistoryPage, \"qSEHNY4ukYvWylKCibmwRqtIfcY=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = HistoryPage;\nexport default HistoryPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HistoryPage\");","map":{"version":3,"sources":["C:/Users/knigh/Documents/PURWADHIKA JCWM/final_project/PWD-Warehouse-3/Final_Project_Group_3/Front_End/pwd_warehouse_03/src/pages/history.js"],"names":["React","Axios","useSelector","useDispatch","Accordion","Card","Table","Image","Button","CancelOrder","paymentConf","Link","HistoryPage","data","setData","useState","id","state","user","id_user","dispatch","useEffect","get","parseInt","then","res","catch","err","console","log","handlePaymentCon","e","cancelOrder","num","order_number","input","renderTbody","map","item","index","Header","backgroundColor","display","justifyContent","date","payment_method","status","payment_confirmation","color","marginRight","products","item2","index2","name","image","height","width","quantity","price","toLocaleString","total","margin","marginTop","padding","textAlign"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Axios from 'axios'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n    Accordion,\r\n    Card,\r\n    Table,\r\n    Image,\r\n    Button\r\n} from 'react-bootstrap'\r\nimport { CancelOrder, paymentConf } from '../actions'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst HistoryPage = () => {\r\n    const [data, setData] = React.useState([])\r\n    const { id } = useSelector((state) => {\r\n        return {\r\n            id: state.user.id_user,\r\n        }\r\n    })\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    React.useEffect(() => {\r\n        Axios.get(`http://localhost:2000/cart/history/${parseInt(id)}`)\r\n            .then(res => (setData(res.data)))\r\n            .catch(err => console.log(err))\r\n    }, [id])\r\n\r\n    function handlePaymentCon(e) {\r\n        console.log(e)\r\n        dispatch(paymentConf(e))\r\n    }\r\n\r\n    const cancelOrder = () => {\r\n        const num = data[0].order_number\r\n        const input = {\r\n            order_number: num\r\n        }\r\n        dispatch(CancelOrder(input, id))\r\n        console.log(input)\r\n    }\r\n\r\n    console.log(data)\r\n    const renderTbody = () => {\r\n        return (\r\n            <Accordion>\r\n                {data.map((item, index) => {\r\n                    return (\r\n                        <Card key={index}>\r\n                            <Card.Header>\r\n                                <Accordion.Toggle as={Card.Header} variant=\"link\" eventKey={index + 1} style={{ backgroundColor: \"#cbc0d3\" }}>\r\n                                    <span style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                                        <span>{index + 1}</span>\r\n                                        <span><p onClick={(e) => { handlePaymentCon(e) }}>Invoice: {item.order_number}</p></span>\r\n                                        <span>Date: {item.date}</span>\r\n                                        <span>Payment Method: {item.payment_method}</span>\r\n                                        <span>Status: {item.status}</span>\r\n                                        <span>Press for Detail <i className=\"fas fa-caret-square-down\"></i></span>\r\n                                        {item.payment_confirmation === 1\r\n                                            ?\r\n                                            <i style={{ color: \"blue\" }}>Waiting for approval payment confirmation</i>\r\n                                            :\r\n                                            <Button as={Link} to='/upload_payment' style={{ marginRight: '5px' }} onClick={() => handlePaymentCon(item.order_number)}> Confirm Payment </Button>\r\n                                        }\r\n                                    </span>\r\n                                </Accordion.Toggle>\r\n                            </Card.Header>\r\n                            <Accordion.Collapse eventKey={index + 1}>\r\n                                <div>\r\n                                    <Table striped bordered hover>\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>No</th>\r\n                                                <th>Name</th>\r\n                                                <th>Image</th>\r\n                                                <th>Quantity</th>\r\n                                                <th>Price</th>\r\n                                                <th>Total</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {item.products.map((item2, index2) => {\r\n                                                return (\r\n                                                    <tr>\r\n                                                        <td>{index2 + 1}</td>\r\n                                                        <td>{item2.name}</td>\r\n                                                        <td>\r\n                                                            <Image src={item2.image} style={{ height: 100, width: 100 }} rounded />\r\n                                                        </td>\r\n                                                        <td>{item2.quantity}</td>\r\n                                                        <td>IDR {item2.price.toLocaleString()}</td>\r\n                                                        <td>IDR {item2.total.toLocaleString()}</td>\r\n                                                    </tr>\r\n                                                )\r\n                                            })}\r\n                                        </tbody>\r\n                                    </Table>\r\n                                    <div style={{ display: 'flex', justifyContent: 'flex-end', margin}}>\r\n                                        <Button variant='danger'>Cancel Order</Button>\r\n                                    </div>\r\n                                </div>\r\n                            </Accordion.Collapse>\r\n                        </Card>\r\n                    )\r\n                })}\r\n            </Accordion>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div style={{ marginTop: \"150px\", padding: \"0 20px\" }}>\r\n            <h1>Order History</h1>\r\n            <Table striped bordered hover style={{ textAlign: \"center\" }}>\r\n                {renderTbody()}\r\n            </Table>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default HistoryPage"]},"metadata":{},"sourceType":"module"}