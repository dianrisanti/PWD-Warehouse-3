{"ast":null,"code":"import Axios from 'axios';\nimport { GET_CART } from './helper'; // edit qty in user's cart\n\nexport const EditCart = (input, id) => {\n  return async dispatch => {\n    try {\n      // request api : EDIT\n      const res = await Axios.patch('http://localhost:2000/cart/edit', input);\n      console.log(res.data);\n      console.log(input); // request api get cart data\n\n      const cart = await Axios.get(`http://localhost:2000/cart/get/${parseInt(id)}`);\n      dispatch({\n        type: GET_CART,\n        payload: cart.data\n      });\n    } catch (err) {\n      console.log(err.response ? err.response.data : err);\n    }\n  };\n}; // delete user's cart item\n\n_c = EditCart;\nexport const DeleteCart = (input, id) => {\n  return async dispatch => {\n    try {\n      // request api : DELETE\n      const res = await Axios.post('http://localhost:2000/cart/delete', input);\n      console.log(res.data);\n      console.log(input); // request api get cart data\n\n      const cart = await Axios.get(`http://localhost:2000/cart/get/${parseInt(id)}`);\n      dispatch({\n        type: GET_CART,\n        payload: cart.data\n      });\n    } catch (err) {\n      console.log(err.response ? err.response.data : err);\n    }\n  };\n};\n_c2 = DeleteCart;\nexport const CancelOrder = order_number => {\n  return async dispatch => {\n    try {\n      // console.log(data, id)\n      const option = {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      };\n      const res = await Axios.post(`http://localhost:2000/cart/cancel/${order_number}`, option);\n      console.log(res.data);\n      const res2 = await Axios.get(`http://localhost:2000/user/getpayment/${order_number}`, option);\n      console.log(res2.data);\n      const token = localStorage.getItem('token'); // console.log(token)\n      // get user data from token\n\n      const res3 = await Axios.post('http://localhost:2000/user/keepLogin', {\n        token\n      }); // console.log('hasil dari api', res.data)\n\n      dispatch({\n        type: 'LOG_IN',\n        payload: res3.data\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n_c3 = CancelOrder;\nexport const ConfirmArrived = order_number => {\n  return async dispatch => {\n    try {\n      // console.log(data, id)\n      const option = {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      };\n      const res = await Axios.post(`http://localhost:2000/cart/confirm/${order_number}`, option);\n      console.log(res.data);\n      const res2 = await Axios.get(`http://localhost:2000/user/getpayment/${order_number}`, option);\n      console.log(res2.data);\n      const token = localStorage.getItem('token'); // console.log(token)\n      // get user data from token\n\n      const res3 = await Axios.post('http://localhost:2000/user/keepLogin', {\n        token\n      }); // console.log('hasil dari api', res.data)\n\n      dispatch({\n        type: 'LOG_IN',\n        payload: res3.data\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  };\n};\n_c4 = ConfirmArrived;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"EditCart\");\n$RefreshReg$(_c2, \"DeleteCart\");\n$RefreshReg$(_c3, \"CancelOrder\");\n$RefreshReg$(_c4, \"ConfirmArrived\");","map":{"version":3,"sources":["C:/Users/knigh/Documents/PURWADHIKA JCWM/final_project/PWD-Warehouse-3/Final_Project_Group_3/Front_End/pwd_warehouse_03/src/actions/cartAction.js"],"names":["Axios","GET_CART","EditCart","input","id","dispatch","res","patch","console","log","data","cart","get","parseInt","type","payload","err","response","DeleteCart","post","CancelOrder","order_number","option","headers","res2","token","localStorage","getItem","res3","ConfirmArrived"],"mappings":"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","sourcesContent":["import Axios from 'axios';\r\nimport { GET_CART} from './helper';\r\n\r\n// edit qty in user's cart\r\nexport const EditCart = (input, id) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            // request api : EDIT\r\n            const res = await Axios.patch('http://localhost:2000/cart/edit', input);\r\n            console.log(res.data);\r\n            console.log(input);\r\n\r\n            // request api get cart data\r\n            const cart = await Axios.get(`http://localhost:2000/cart/get/${parseInt(id)}`);\r\n            dispatch({ type: GET_CART, payload: cart.data });\r\n        } catch (err) {\r\n            console.log(err.response ? err.response.data : err);\r\n        }\r\n    };\r\n};\r\n\r\n// delete user's cart item\r\nexport const DeleteCart = (input, id) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            // request api : DELETE\r\n            const res = await Axios.post('http://localhost:2000/cart/delete', input);\r\n            console.log(res.data)\r\n            console.log(input);\r\n\r\n            // request api get cart data\r\n            const cart = await Axios.get(`http://localhost:2000/cart/get/${parseInt(id)}`);\r\n            dispatch({ type: GET_CART, payload: cart.data });\r\n        } catch (err) {\r\n            console.log(err.response ? err.response.data : err);\r\n        }\r\n    };\r\n};\r\n\r\nexport const CancelOrder = (order_number) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            // console.log(data, id)\r\n            const option = {\r\n                headers: { 'Content-Type': 'multipart/form-data' }\r\n            }\r\n\r\n            const res = await Axios.post(`http://localhost:2000/cart/cancel/${order_number}`, option)\r\n            console.log(res.data)\r\n\r\n            const res2 = await Axios.get(`http://localhost:2000/user/getpayment/${order_number}`, option)\r\n            console.log(res2.data)\r\n\r\n            const token = localStorage.getItem('token')\r\n            // console.log(token)\r\n\r\n            // get user data from token\r\n            const res3 = await Axios.post('http://localhost:2000/user/keepLogin', { token })\r\n            // console.log('hasil dari api', res.data)\r\n\r\n            dispatch({ type: 'LOG_IN', payload: res3.data })\r\n        }\r\n        catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const ConfirmArrived = (order_number) => {\r\n    return async (dispatch) => {\r\n        try {\r\n            // console.log(data, id)\r\n            const option = {\r\n                headers: { 'Content-Type': 'multipart/form-data' }\r\n            }\r\n\r\n            const res = await Axios.post(`http://localhost:2000/cart/confirm/${order_number}`, option)\r\n            console.log(res.data)\r\n\r\n            const res2 = await Axios.get(`http://localhost:2000/user/getpayment/${order_number}`, option)\r\n            console.log(res2.data)\r\n\r\n            const token = localStorage.getItem('token')\r\n            // console.log(token)\r\n\r\n            // get user data from token\r\n            const res3 = await Axios.post('http://localhost:2000/user/keepLogin', { token })\r\n            // console.log('hasil dari api', res.data)\r\n\r\n            dispatch({ type: 'LOG_IN', payload: res3.data })\r\n        }\r\n        catch (err) {\r\n            console.log(err)\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}