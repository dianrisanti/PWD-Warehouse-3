{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\knigh\\\\Documents\\\\PURWADHIKA JCWM\\\\final_project\\\\PWD-Warehouse-3\\\\Final_Project_Group_3\\\\Front_End\\\\pwd_warehouse_03\\\\src\\\\pages\\\\warehouseStock.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Axios from 'axios';\nimport { getProductStock } from '../actions';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Table, Button, Pagination, Modal, Form } from 'react-bootstrap';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst WarehouseStock = () => {\n  _s();\n\n  const [modal, setModal] = React.useState(false);\n  const [stockProdId, setStockProdId] = React.useState(null);\n  const [stockJkt, setStockJkt] = React.useState(null);\n  const [bookedJkt, setBookedJkt] = React.useState(null);\n  const [availableJkt, setAvailableJkt] = React.useState(null);\n  const [stockMedan, setStockMedan] = React.useState(null);\n  const [bookedMedan, setBookedMedan] = React.useState(null);\n  const [availableMedan, setAvailableMedan] = React.useState(null);\n  const [stockSurabaya, setStockSurabaya] = React.useState(null);\n  const [bookedSurabaya, setBookedSurabaya] = React.useState(null);\n  const [availableSurabaya, setAvailableSurabaya] = React.useState(null);\n  const [stockProdName, setStockProdName] = React.useState(\"\");\n  const [stockProdTotal, setStockProdTotal] = React.useState(0);\n  const [qtyErr, setQtyErr] = React.useState([false, \"\"]);\n  const dispatch = useDispatch();\n  const {\n    data\n  } = useSelector(state => {\n    return {\n      data: state.admin.productStock\n    };\n  });\n  React.useEffect(() => {\n    dispatch(getProductStock());\n  }, []); // pagination\n\n  const itemsPerPage = 30;\n  const [page, setPage] = React.useState(1);\n  const noOfPages = Math.ceil(data.length / itemsPerPage);\n  const listItem = Array(noOfPages).fill(1);\n\n  const sendStockHandler = (i, name) => {\n    setStockProdId(i);\n    setStockProdName(name);\n    const filtered = data.filter(item => item.id === i);\n\n    for (const entry of filtered) {\n      if (entry.location === \"Jakarta\") {\n        setBookedJkt(entry.booked);\n        setAvailableJkt(entry.available);\n        setStockJkt(entry.stock);\n      }\n\n      if (entry.location === \"Medan\") {\n        setBookedMedan(entry.booked);\n        setAvailableMedan(entry.available);\n        setStockMedan(entry.stock);\n      }\n\n      if (entry.location === \"Surabaya\") {\n        setBookedSurabaya(entry.booked);\n        setAvailableSurabaya(entry.available);\n        setStockSurabaya(entry.stock);\n      }\n    }\n\n    const sum = filtered.reduce((a, b) => a + b.stock, 0);\n    setStockProdTotal(sum);\n    setModal(true);\n  };\n\n  const changeQtyJkt = e => {\n    const input = e.target.value;\n    if (isNaN(+input)) return;\n    setStockJkt(+input);\n  };\n\n  const changeQtyMedan = e => {\n    const input = e.target.value;\n    if (isNaN(+input)) return;\n    setStockMedan(+input);\n  };\n\n  const changeQtySurabaya = e => {\n    const input = e.target.value;\n    if (isNaN(+input)) return;\n    setStockSurabaya(+input);\n  };\n\n  const saveHandler = () => {\n    if (stockJkt < bookedJkt || stockMedan < bookedMedan || stockSurabaya < bookedSurabaya) return setQtyErr([true, `Stock kurang dari booked`]);\n    if (stockJkt + stockMedan + stockSurabaya !== stockProdTotal) return setQtyErr([true, `Jumlah tidak sesuai total`]);\n    const input = {\n      id_product: stockProdId,\n      warehouse: [{\n        location: \"Jakarta\",\n        stock: stockJkt\n      }, {\n        location: \"Medan\",\n        stock: stockMedan\n      }, {\n        location: \"Surabaya\",\n        stock: stockSurabaya\n      }]\n    };\n\n    async function fetchData() {\n      try {\n        await Axios.post('http://localhost:2000/admin/editstock', input);\n        dispatch(getProductStock());\n      } catch (err) {\n        console.log(err);\n      }\n    }\n\n    fetchData();\n    setQtyErr([false, \"\"]);\n    setModal(false);\n  };\n\n  const renderTable = () => {\n    return /*#__PURE__*/_jsxDEV(Table, {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Product Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Warehouse Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Booked\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Total Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: data.slice((page - 1) * itemsPerPage, page * itemsPerPage).map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.id_warehouse\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.location\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.booked\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.available\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.stock\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                onClick: () => sendStockHandler(item.id, item.name),\n                children: \"Send stock\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 33\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this);\n  };\n\n  const renderTableDetail = () => {\n    /*#__PURE__*/\n    _jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Lokasi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Booked\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Total Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Jakarta\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: bookedJkt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: availableJkt\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: '70px',\n                fontSize: '15px',\n                height: '30px'\n              },\n              onChange: e => changeQtyJkt(e),\n              value: stockJkt,\n              min: 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Medan\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: bookedMedan\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: availableMedan\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: '70px',\n                fontSize: '15px',\n                height: '30px'\n              },\n              onChange: e => changeQtyMedan(e),\n              value: stockMedan,\n              min: 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Surabaya\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: bookedSurabaya\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: availableSurabaya\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: {\n                width: '70px',\n                fontSize: '15px',\n                height: '30px'\n              },\n              onChange: e => changeQtySurabaya(e),\n              value: stockSurabaya,\n              min: 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }, this);\n  };\n\n  const renderModal = () => {\n    return /*#__PURE__*/_jsxDEV(Modal, {\n      show: modal,\n      onHide: () => setModal(false),\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: stockProdName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Total Stock Semua Gudang: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginLeft: '15px'\n            },\n            children: stockProdTotal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: '400px'\n          },\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            striped: true,\n            bordered: true,\n            hover: true,\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Lokasi\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 218,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Booked\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Available\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 220,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Total Stock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Jakarta\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: bookedJkt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 227,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: availableJkt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 228,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                    style: {\n                      width: '70px',\n                      fontSize: '15px',\n                      height: '30px'\n                    },\n                    onChange: e => changeQtyJkt(e),\n                    value: stockJkt,\n                    min: 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 230,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Medan\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: bookedMedan\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: availableMedan\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                    style: {\n                      width: '70px',\n                      fontSize: '15px',\n                      height: '30px'\n                    },\n                    onChange: e => changeQtyMedan(e),\n                    value: stockMedan,\n                    min: 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 233,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Surabaya\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: bookedSurabaya\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: availableSurabaya\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                    style: {\n                      width: '70px',\n                      fontSize: '15px',\n                      height: '30px'\n                    },\n                    onChange: e => changeQtySurabaya(e),\n                    value: stockSurabaya,\n                    min: 0\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '14px',\n            color: 'red'\n          },\n          children: qtyErr[0] ? qtyErr[1] : \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"secondary\",\n          onClick: () => setModal(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: saveHandler,\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: data.length !== 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '110px',\n        padding: 30\n      },\n      children: [renderTable(), /*#__PURE__*/_jsxDEV(Pagination, {\n        children: [/*#__PURE__*/_jsxDEV(Pagination.Prev, {\n          disabled: page <= 1 ? true : false,\n          onClick: () => setPage(page - 1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 25\n        }, this), listItem.map((item, index) => {\n          return /*#__PURE__*/_jsxDEV(Pagination.Item, {\n            active: index + 1 === page,\n            onClick: () => setPage(index + 1),\n            children: index + 1\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 33\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(Pagination.Next, {\n          disabled: page >= noOfPages ? true : false,\n          onClick: () => setPage(page + 1)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 21\n      }, this), stockProdId ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: renderModal()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 269,\n    columnNumber: 9\n  }, this);\n};\n\n_s(WarehouseStock, \"Bh3Ke7KqKjRO/4cl8StcG7uUkYU=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = WarehouseStock;\nexport default WarehouseStock;\n\nvar _c;\n\n$RefreshReg$(_c, \"WarehouseStock\");","map":{"version":3,"sources":["C:/Users/knigh/Documents/PURWADHIKA JCWM/final_project/PWD-Warehouse-3/Final_Project_Group_3/Front_End/pwd_warehouse_03/src/pages/warehouseStock.js"],"names":["React","Axios","getProductStock","useSelector","useDispatch","Table","Button","Pagination","Modal","Form","WarehouseStock","modal","setModal","useState","stockProdId","setStockProdId","stockJkt","setStockJkt","bookedJkt","setBookedJkt","availableJkt","setAvailableJkt","stockMedan","setStockMedan","bookedMedan","setBookedMedan","availableMedan","setAvailableMedan","stockSurabaya","setStockSurabaya","bookedSurabaya","setBookedSurabaya","availableSurabaya","setAvailableSurabaya","stockProdName","setStockProdName","stockProdTotal","setStockProdTotal","qtyErr","setQtyErr","dispatch","data","state","admin","productStock","useEffect","itemsPerPage","page","setPage","noOfPages","Math","ceil","length","listItem","Array","fill","sendStockHandler","i","name","filtered","filter","item","id","entry","location","booked","available","stock","sum","reduce","a","b","changeQtyJkt","e","input","target","value","isNaN","changeQtyMedan","changeQtySurabaya","saveHandler","id_product","warehouse","fetchData","post","err","console","log","renderTable","slice","map","index","id_warehouse","renderTableDetail","width","fontSize","height","renderModal","display","marginLeft","color","marginTop","padding"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Axios from 'axios'\r\nimport { getProductStock } from '../actions'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport {\r\n    Table,\r\n    Button,\r\n    Pagination,\r\n    Modal,\r\n    Form\r\n} from 'react-bootstrap'\r\n\r\nconst WarehouseStock = () => {\r\n    const [modal, setModal] = React.useState(false)\r\n    const [stockProdId, setStockProdId] = React.useState(null)\r\n    const [stockJkt, setStockJkt] = React.useState(null)\r\n    const [bookedJkt, setBookedJkt] = React.useState(null)\r\n    const [availableJkt, setAvailableJkt] = React.useState(null)\r\n    const [stockMedan, setStockMedan] = React.useState(null)\r\n    const [bookedMedan, setBookedMedan] = React.useState(null)\r\n    const [availableMedan, setAvailableMedan] = React.useState(null)\r\n    const [stockSurabaya, setStockSurabaya] = React.useState(null)\r\n    const [bookedSurabaya, setBookedSurabaya] = React.useState(null)\r\n    const [availableSurabaya, setAvailableSurabaya] = React.useState(null)\r\n    const [stockProdName, setStockProdName] = React.useState(\"\")\r\n    const [stockProdTotal, setStockProdTotal] = React.useState(0)\r\n    const [qtyErr, setQtyErr] = React.useState([false, \"\"])\r\n\r\n    const dispatch = useDispatch()\r\n    const { data } = useSelector((state) => {\r\n        return{\r\n            data: state.admin.productStock\r\n        }\r\n    })\r\n\r\n    React.useEffect(() => {\r\n        dispatch(getProductStock())\r\n    }, [])\r\n    \r\n    // pagination\r\n    const itemsPerPage = 30\r\n    const [page, setPage] = React.useState(1)\r\n    const noOfPages = Math.ceil(data.length / itemsPerPage)\r\n    const listItem = Array(noOfPages).fill(1)\r\n\r\n    const sendStockHandler = (i, name) => {\r\n        setStockProdId(i)\r\n        setStockProdName(name)\r\n        \r\n        const filtered = data.filter(item => item.id === i)\r\n\r\n        for(const entry of filtered) {\r\n            if(entry.location === \"Jakarta\") {\r\n                setBookedJkt(entry.booked) \r\n                setAvailableJkt(entry.available)\r\n                setStockJkt(entry.stock)\r\n            }\r\n            if(entry.location === \"Medan\") {\r\n                setBookedMedan(entry.booked)\r\n                setAvailableMedan(entry.available)\r\n                setStockMedan(entry.stock)\r\n            }\r\n            if(entry.location === \"Surabaya\") {\r\n                setBookedSurabaya(entry.booked)\r\n                setAvailableSurabaya(entry.available)\r\n                setStockSurabaya(entry.stock)\r\n            }\r\n        }\r\n\r\n        const sum = filtered.reduce((a, b) => a + b.stock, 0)\r\n        setStockProdTotal(sum)\r\n        setModal(true)\r\n    }\r\n\r\n    const changeQtyJkt = (e) => {\r\n        const input = e.target.value\r\n        if(isNaN(+input)) return \r\n        setStockJkt(+input)\r\n    }\r\n\r\n    const changeQtyMedan = (e) => {\r\n        const input = e.target.value\r\n        if(isNaN(+input)) return \r\n        setStockMedan(+input)\r\n    }\r\n\r\n    const changeQtySurabaya = (e) => {\r\n        const input = e.target.value\r\n        if(isNaN(+input)) return \r\n        setStockSurabaya(+input)\r\n    }\r\n\r\n    const saveHandler = () => {\r\n        if(stockJkt < bookedJkt || stockMedan < bookedMedan || stockSurabaya < bookedSurabaya) return setQtyErr([true, `Stock kurang dari booked`])\r\n        if(stockJkt + stockMedan + stockSurabaya !== stockProdTotal) return setQtyErr([true, `Jumlah tidak sesuai total`])\r\n        const input = {\r\n            id_product: stockProdId,\r\n            warehouse: [\r\n                {location: \"Jakarta\", stock: stockJkt},\r\n                {location: \"Medan\", stock: stockMedan},\r\n                {location: \"Surabaya\", stock: stockSurabaya}\r\n            ]\r\n        }\r\n\r\n        async function fetchData() {\r\n            try {\r\n                await Axios.post('http://localhost:2000/admin/editstock', input)\r\n                \r\n                dispatch(getProductStock())\r\n            }\r\n            catch (err) {\r\n                console.log(err)\r\n            }\r\n        }\r\n        fetchData()\r\n\r\n        setQtyErr([false, \"\"])\r\n        setModal(false)\r\n    }\r\n\r\n    const renderTable = () => {\r\n        return(\r\n            <Table>\r\n                <thead>\r\n                    <tr>\r\n                        <th>No</th>\r\n                        <th>Product Name</th>\r\n                        <th>Warehouse Location</th>\r\n                        <th>Booked</th>\r\n                        <th>Available</th>\r\n                        <th>Total Stock</th>\r\n                        <th>Action</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {\r\n                        data\r\n                        .slice((page - 1) * itemsPerPage, page * itemsPerPage)\r\n                        .map((item, index) => {\r\n                            return(\r\n                                <tr>\r\n                                    <td>{item.id_warehouse}</td>\r\n                                    <td>{item.name}</td>\r\n                                    <td>{item.location}</td>\r\n                                    <td>{item.booked}</td>\r\n                                    <td>{item.available}</td>\r\n                                    <td>{item.stock}</td>\r\n                                    <td>\r\n                                        <Button onClick={() => sendStockHandler(item.id, item.name)}>\r\n                                            Send stock\r\n                                        </Button>\r\n                                    </td>\r\n                                </tr>\r\n                            )\r\n                        })\r\n                    }\r\n                </tbody>\r\n            </Table>\r\n        )\r\n    }\r\n\r\n    const renderTableDetail = () => {\r\n        <Table striped bordered hover>\r\n            <thead>\r\n                <tr>\r\n                    <th>Lokasi</th>\r\n                    <th>Booked</th>\r\n                    <th>Available</th>\r\n                    <th>Total Stock</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr>\r\n                    <td>Jakarta</td>\r\n                    <td>{bookedJkt}</td>\r\n                    <td>{availableJkt}</td>\r\n                    <td>\r\n                        <Form.Control style={{width: '70px', fontSize: '15px', height: '30px'}} onChange={(e) => changeQtyJkt(e)} value={stockJkt} min={0}/>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Medan</td>\r\n                    <td>{bookedMedan}</td>\r\n                    <td>{availableMedan}</td>\r\n                    <td>\r\n                        <Form.Control style={{width: '70px', fontSize: '15px', height: '30px'}} onChange={(e) => changeQtyMedan(e)} value={stockMedan} min={0}/>\r\n                    </td>\r\n                </tr>\r\n                <tr>\r\n                    <td>Surabaya</td>\r\n                    <td>{bookedSurabaya}</td>\r\n                    <td>{availableSurabaya}</td>\r\n                    <td>\r\n                        <Form.Control style={{width: '70px', fontSize: '15px', height: '30px'}} onChange={(e) => changeQtySurabaya(e)} value={stockSurabaya} min={0}/>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </Table>\r\n    }\r\n\r\n    const renderModal = () => {\r\n        return(\r\n            <Modal show={modal} onHide={() => setModal(false)}>\r\n                <Modal.Header closeButton>\r\n                    <Modal.Title>{stockProdName}</Modal.Title>\r\n                </Modal.Header>\r\n\r\n                <Modal.Body>\r\n                    <div style={{display: 'flex'}}>\r\n                        <p>Total Stock Semua Gudang: </p>\r\n                        <p style={{marginLeft: '15px'}}>{stockProdTotal}</p>\r\n                    </div>\r\n\r\n                    <div style={{width: '400px'}}>\r\n                    <Table striped bordered hover>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Lokasi</th>\r\n                                <th>Booked</th>\r\n                                <th>Available</th>\r\n                                <th>Total Stock</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Jakarta</td>\r\n                                <td>{bookedJkt}</td>\r\n                                <td>{availableJkt}</td>\r\n                                <td>\r\n                                    <Form.Control style={{width: '70px', fontSize: '15px', height: '30px'}} onChange={(e) => changeQtyJkt(e)} value={stockJkt} min={0}/>\r\n                                </td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Medan</td>\r\n                                <td>{bookedMedan}</td>\r\n                                <td>{availableMedan}</td>\r\n                                    <td>\r\n                                        <Form.Control style={{width: '70px', fontSize: '15px', height: '30px'}} onChange={(e) => changeQtyMedan(e)} value={stockMedan} min={0}/>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Surabaya</td>\r\n                                    <td>{bookedSurabaya}</td>\r\n                                    <td>{availableSurabaya}</td>\r\n                                    <td>\r\n                                        <Form.Control style={{width: '70px', fontSize: '15px', height: '30px'}} onChange={(e) => changeQtySurabaya(e)} value={stockSurabaya} min={0}/>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </Table>\r\n                    </div>\r\n\r\n                    <p style={{fontSize: '14px', color: 'red'}}>{qtyErr[0] ? qtyErr[1] : \"\" }</p>\r\n                </Modal.Body>\r\n                        \r\n                <Modal.Footer>\r\n                    <Button variant=\"secondary\" onClick={() => setModal(false)}>\r\n                        Close\r\n                    </Button>\r\n                    <Button variant=\"primary\" onClick={saveHandler}>\r\n                        Save Changes\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            {\r\n                data.length !== 0\r\n                ?\r\n                <div style={{marginTop: '110px', padding: 30}}>\r\n                    {renderTable()}\r\n                    <Pagination>\r\n                        <Pagination.Prev disabled={page <= 1 ? true : false} onClick={() => setPage(page - 1)} />\r\n                        {listItem.map((item, index) => {\r\n                            return (\r\n                                <Pagination.Item key={index} active={index+1 === page} onClick={() => setPage(index+1)}>{index+1}</Pagination.Item>\r\n                            )\r\n                        })}\r\n                        <Pagination.Next disabled={page >= noOfPages ? true : false} onClick={() => setPage(page + 1)} />\r\n                    </Pagination>\r\n                    \r\n                    {\r\n                        stockProdId\r\n                        ?\r\n                        <div>\r\n                            {renderModal()}\r\n                        </div>\r\n                        :\r\n                        <div></div>\r\n                    }\r\n                    \r\n                </div>\r\n                :\r\n                <div></div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default WarehouseStock"]},"metadata":{},"sourceType":"module"}