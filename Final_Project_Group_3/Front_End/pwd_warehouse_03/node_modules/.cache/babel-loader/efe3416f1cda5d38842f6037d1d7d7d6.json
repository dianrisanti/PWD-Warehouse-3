{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\knigh\\\\Documents\\\\PURWADHIKA JCWM\\\\final_project\\\\PWD-Warehouse-3\\\\Final_Project_Group_3\\\\Front_End\\\\pwd_warehouse_03\\\\src\\\\pages\\\\requestNewPassword.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Axios from 'axios';\nimport { Redirect, Link } from 'react-router-dom';\nimport { Button, InputGroup, Form, FormControl, Modal } from 'react-bootstrap';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction RequestNewPassword(props) {\n  _s();\n\n  const {\n    status\n  } = useSelector(state => {\n    return {\n      status: state.user.regStatus\n    };\n  }); // NOTE alert error message to user\n\n  let [regError, setRegError] = React.useState([false, \"\"]);\n  let [emailValidErr, setEmailValidErr] = React.useState([false, \"\"]);\n  let emailRef = React.useRef('');\n\n  function handleRequestPassword() {\n    let email = emailRef.current.value;\n\n    async function fetchData() {\n      try {\n        let res = await Axios.post('http://localhost:2000/user/forgotpassword', {\n          email\n        });\n        console.log(res.data);\n      } catch (err) {\n        console.log(err.response.data);\n        const errMsg = err.response.data;\n        setRegError([true, errMsg]);\n      }\n    }\n\n    fetchData();\n  }\n\n  function emailValid(e) {\n    let email = e.target.value; // console.log(email)\n\n    let regex = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    if (!regex.test(email)) return setEmailValidErr([true, \"*Email not valid\"]);\n    setEmailValidErr([false, \"\"]);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.center,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Forgot Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: { ...styles.item,\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n          children: [/*#__PURE__*/_jsxDEV(InputGroup.Prepend, {\n            children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n              id: \"basic-addon1\",\n              style: {\n                width: \"45px\",\n                display: 'flex',\n                justifyContent: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-envelope\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n            placeholder: \"Email\",\n            \"aria-label\": \"Email\",\n            \"aria-describedby\": \"basic-addon1\",\n            style: {\n              height: \"45px\"\n            },\n            ref: emailRef,\n            onChange: e => emailValid(e)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n          className: \"mb-3\",\n          style: {\n            textAlign: \"left\",\n            color: \"red\",\n            fontSize: '10px'\n          },\n          children: emailValidErr[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: handleRequestPassword,\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        show: regError[0],\n        onHide: () => setRegError([false, \"\"]),\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: regError[1]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"secondary\",\n            onClick: () => setRegError([false, \"\"]),\n            children: \"Okay\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n}\n\n_s(RequestNewPassword, \"WVNeC9KQY9mHp3ohf+UfsGGrojo=\", false, function () {\n  return [useSelector];\n});\n\n_c = RequestNewPassword;\nconst styles = {\n  container: {\n    background: \"url(https://images.unsplash.com/photo-1506544777-64cfbe1142df?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80) no-repeat center\",\n    backgroundSize: \"cover\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    height: \"100vh\"\n  },\n  center: {\n    marginTop: 100,\n    padding: \"10px 30px\",\n    width: 350,\n    height: \"68vh\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    border: \"1px solid gray\",\n    borderRadius: \"30px\",\n    backgroundColor: \"rgba(255, 255, 255, .7)\"\n  },\n  item: {\n    width: \"100%\",\n    height: \"auto\",\n    marginBottom: 15\n  }\n};\nexport default RequestNewPassword;\n\nvar _c;\n\n$RefreshReg$(_c, \"RequestNewPassword\");","map":{"version":3,"sources":["C:/Users/knigh/Documents/PURWADHIKA JCWM/final_project/PWD-Warehouse-3/Final_Project_Group_3/Front_End/pwd_warehouse_03/src/pages/requestNewPassword.jsx"],"names":["React","Axios","Redirect","Link","Button","InputGroup","Form","FormControl","Modal","useSelector","RequestNewPassword","props","status","state","user","regStatus","regError","setRegError","useState","emailValidErr","setEmailValidErr","emailRef","useRef","handleRequestPassword","email","current","value","fetchData","res","post","console","log","data","err","response","errMsg","emailValid","e","target","regex","test","styles","container","center","item","textAlign","width","display","justifyContent","height","color","fontSize","background","backgroundSize","marginTop","padding","flexDirection","alignItems","border","borderRadius","backgroundColor","marginBottom"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Axios from 'axios'\r\nimport {\r\n    Redirect,\r\n    Link\r\n} from 'react-router-dom'\r\nimport {\r\n    Button,\r\n    InputGroup,\r\n    Form,\r\n    FormControl,\r\n    Modal\r\n} from 'react-bootstrap'\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nfunction RequestNewPassword(props) {\r\n    const { status } = useSelector((state) => {\r\n        return {\r\n            status: state.user.regStatus\r\n        }\r\n    })\r\n\r\n    // NOTE alert error message to user\r\n    let [regError, setRegError] = React.useState([false, \"\"])\r\n    let [emailValidErr, setEmailValidErr] = React.useState([false, \"\"])\r\n\r\n\r\n    let emailRef = React.useRef('')\r\n\r\n    function handleRequestPassword() {\r\n        let email = emailRef.current.value\r\n        async function fetchData() {\r\n\r\n            try {\r\n                let res = await Axios.post('http://localhost:2000/user/forgotpassword', { email })\r\n                console.log(res.data)\r\n            }\r\n            catch (err) {\r\n                console.log(err.response.data)\r\n                const errMsg = err.response.data\r\n                setRegError([true, errMsg])\r\n            }\r\n        }\r\n        fetchData()\r\n    }\r\n\r\n    function emailValid(e) {\r\n        let email = e.target.value\r\n        // console.log(email)\r\n        let regex = /^(([^<>()\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\r\n        if (!regex.test(email)) return setEmailValidErr([true, \"*Email not valid\"])\r\n\r\n        setEmailValidErr([false, \"\"])\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.center}>\r\n                <div>\r\n                    <h1>Forgot Password</h1>\r\n                </div>\r\n                <div style={{ ...styles.item, textAlign: 'center' }}>\r\n                    <InputGroup>\r\n                        <InputGroup.Prepend>\r\n                            <InputGroup.Text id=\"basic-addon1\" style={{ width: \"45px\", display: 'flex', justifyContent: 'center' }}>\r\n                                <i className=\"fas fa-envelope\" />\r\n                            </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <FormControl\r\n                            placeholder=\"Email\"\r\n                            aria-label=\"Email\"\r\n                            aria-describedby=\"basic-addon1\"\r\n                            style={{ height: \"45px\" }}\r\n                            ref={emailRef}\r\n                            onChange={(e) => emailValid(e)}\r\n                        />\r\n                    </InputGroup>\r\n                    <Form.Text className=\"mb-3\" style={{ textAlign: \"left\", color: \"red\", fontSize: '10px' }}>\r\n                        {emailValidErr[1]}\r\n                    </Form.Text>\r\n                    <Button onClick={handleRequestPassword}>\r\n                        Confirm\r\n                    </Button>\r\n                </div>\r\n                <Modal show={regError[0]} onHide={() => setRegError([false, \"\"])}>\r\n                    <Modal.Header closeButton>\r\n                        <Modal.Title>Error</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>{regError[1]}</Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={() => setRegError([false, \"\"])}>\r\n                            Okay\r\n                            </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst styles = {\r\n    container: {\r\n        background: \"url(https://images.unsplash.com/photo-1506544777-64cfbe1142df?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1500&q=80) no-repeat center\",\r\n        backgroundSize: \"cover\",\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        height: \"100vh\",\r\n    },\r\n    center: {\r\n        marginTop: 100,\r\n        padding: \"10px 30px\",\r\n        width: 350,\r\n        height: \"68vh\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        border: \"1px solid gray\",\r\n        borderRadius: \"30px\",\r\n        backgroundColor: \"rgba(255, 255, 255, .7)\"\r\n    },\r\n    item: {\r\n        width: \"100%\",\r\n        height: \"auto\",\r\n        marginBottom: 15,\r\n    }\r\n}\r\n\r\n\r\nexport default RequestNewPassword"]},"metadata":{},"sourceType":"module"}